<mat-drawer-container class="example-container" autosize>
    <mat-drawer #drawer mode="side" position="end">
        <div>
            <p>Form Value: </p>
            <div>
                <pre>{{ personForm.value | json }}</pre>
            </div>

            <p>Form Status: {{ personForm.status }}</p>
            <div>Source</div>
            <div>
                <pre>{{ address | json }}</pre>
            </div>

            <div *ngIf="result$ | async as resultAddress">
                <pre>{{resultAddress | json}}</pre>
            </div>
        </div>
    </mat-drawer>

    <mat-card class="form-container">
        <mat-card-header>
            <mat-card-title>Add New Person</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="personForm">
                <div class="name-container">
                    <h3>Name:</h3>
                    <div class="two-column">
                        <mat-form-field appearance="outline">
                            <mat-label>First Name: </mat-label>
                            <input matInput placeholder="First Name" id="first-name" type="text"
                                formControlName="firstName">
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>Last Name: </mat-label>
                            <input matInput placeholder="Last Name" id="last-name" type="text"
                                formControlName="lastName">
                        </mat-form-field>
                    </div>
                </div>

                <div class="phone-container">
                    <h3>Phone Number:</h3>
                    <mat-form-field appearance="outline">
                        <mat-label>Phone Number: </mat-label>
                        <input matInput placeholder="Phone Number" id="phoneNumber" type="text"
                            formControlName="phoneNumber">
                    </mat-form-field>
                </div>

                <div class="address-container" formGroupName="address">
                    <h3>Address:</h3>

                    <div class="address-input">
                        <mat-form-field appearance="outline">
                            <mat-label>Address Line 1: </mat-label>
                            <input matInput placeholder="Address Line 1" id="addressLine1" type="text"
                                formControlName="addressLine1">
                        </mat-form-field>
                    </div>

                    <div class="address-input">
                        <mat-form-field appearance="outline">
                            <mat-label>Address Line 2: </mat-label>
                            <input matInput placeholder="Address Line 2" id="addressLine2" type="text"
                                formControlName="addressLine2">
                        </mat-form-field>
                    </div>

                    <div class="address-input">
                        <mat-form-field appearance="outline">
                            <mat-label>City: </mat-label>
                            <input matInput placeholder="City" id="city" type="text" formControlName="city">
                        </mat-form-field>

                    </div>

                    <div class="two-column">
                        <mat-form-field appearance="outline">
                            <mat-label>State: </mat-label>
                            <input matInput placeholder="State" id="state" type="text" formControlName="state">
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Zip Code: </mat-label>
                            <input matInput placeholder="Zip Code" id="zip" type="text" formControlName="zip">
                        </mat-form-field>
                    </div>
                </div>
            </form>

            <div>Complete the form to enable button.</div>

            <mat-card-actions>
                <button mat-button type="submit" [disabled]="!personForm.valid" (click)="onSubmit()">Submit</button>
                <button mat-button type="button" (click)="drawer.toggle()" *ngIf="allowDiagnostics">
                    {{ drawer.opened ?'Hide' : 'Show' }} Diagnostics</button>
            </mat-card-actions>
        </mat-card-content>
    </mat-card>
</mat-drawer-container>